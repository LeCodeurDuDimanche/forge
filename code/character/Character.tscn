[gd_scene load_steps=13 format=2]

[ext_resource path="res://code/character/Player.gd" type="Script" id=1]
[ext_resource path="res://assets/fonts/CharacterUIFont.tres" type="Theme" id=2]
[ext_resource path="res://assets/sfx/ores/pickup.wav" type="AudioStream" id=4]
[ext_resource path="res://assets/sprites/player/forge_bar_over.png" type="Texture" id=5]
[ext_resource path="res://assets/sprites/player/forge_bar_progress.png" type="Texture" id=6]
[ext_resource path="res://assets/sprites/player/forge_bar_under.png" type="Texture" id=7]
[ext_resource path="res://code/character/ForgeUI.gd" type="Script" id=8]
[ext_resource path="res://assets/fonts/ForgeUI.tres" type="Theme" id=9]
[ext_resource path="res://assets/sfx/forging/forged.wav" type="AudioStream" id=10]
[ext_resource path="res://assets/sfx/forging/correct_hit.wav" type="AudioStream" id=11]
[ext_resource path="res://assets/sfx/forging/false_hit.wav" type="AudioStream" id=12]

[sub_resource type="CapsuleShape2D" id=1]

[node name="KinematicBody2D" type="KinematicBody2D" groups=["Player"]]
collision_layer = 2
collision_mask = 13
script = ExtResource( 1 )

[node name="Tools" type="Node2D" parent="."]

[node name="Secondary" type="Node2D" parent="."]
position = Vector2( 0, 12 )

[node name="ColorRect" type="ColorRect" parent="."]
anchor_right = 0.652
margin_left = -19.0
margin_top = -10.0
margin_right = 19.0
margin_bottom = 10.0
color = Color( 0.137255, 0.419608, 0.815686, 1 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
rotation = 1.5708
shape = SubResource( 1 )

[node name="Camera2D" type="Camera2D" parent="."]
current = true
zoom = Vector2( 0.5, 0.5 )
smoothing_enabled = true
smoothing_speed = 6.0

[node name="UI" type="CanvasLayer" parent="."]

[node name="Control" type="Control" parent="UI"]
anchor_right = 1.0
anchor_bottom = 1.0

[node name="Resources" type="HBoxContainer" parent="UI/Control"]
anchor_left = 1.0
anchor_right = 1.0
margin_left = -240.0
margin_top = 40.0
margin_right = -50.0
margin_bottom = 111.0
grow_horizontal = 0
custom_constants/separation = 10
alignment = 1

[node name="Iron" type="VBoxContainer" parent="UI/Control/Resources"]
margin_right = 30.0
margin_bottom = 71.0
alignment = 1

[node name="ColorRect" type="ColorRect" parent="UI/Control/Resources/Iron"]
margin_right = 30.0
margin_bottom = 30.0
rect_min_size = Vector2( 30, 30 )
color = Color( 0.23, 0.1863, 0.0989, 1 )

[node name="Label" type="Label" parent="UI/Control/Resources/Iron"]
margin_top = 34.0
margin_right = 30.0
margin_bottom = 71.0
theme = ExtResource( 2 )
text = "0"
align = 1

[node name="Copper" type="VBoxContainer" parent="UI/Control/Resources"]
margin_left = 40.0
margin_right = 70.0
margin_bottom = 71.0
alignment = 1

[node name="ColorRect" type="ColorRect" parent="UI/Control/Resources/Copper"]
margin_right = 30.0
margin_bottom = 30.0
rect_min_size = Vector2( 30, 30 )
color = Color( 1, 0.6, 0.368627, 1 )

[node name="Label" type="Label" parent="UI/Control/Resources/Copper"]
margin_top = 34.0
margin_right = 30.0
margin_bottom = 71.0
theme = ExtResource( 2 )
text = "0"
align = 1

[node name="Tin" type="VBoxContainer" parent="UI/Control/Resources"]
margin_left = 80.0
margin_right = 110.0
margin_bottom = 71.0
alignment = 1

[node name="ColorRect" type="ColorRect" parent="UI/Control/Resources/Tin"]
margin_right = 30.0
margin_bottom = 30.0
rect_min_size = Vector2( 30, 30 )
color = Color( 0.701961, 0.701961, 0.701961, 1 )

[node name="Label" type="Label" parent="UI/Control/Resources/Tin"]
margin_top = 34.0
margin_right = 30.0
margin_bottom = 71.0
theme = ExtResource( 2 )
text = "0"
align = 1

[node name="Bronze" type="VBoxContainer" parent="UI/Control/Resources"]
margin_left = 120.0
margin_right = 150.0
margin_bottom = 71.0
alignment = 1

[node name="ColorRect" type="ColorRect" parent="UI/Control/Resources/Bronze"]
margin_right = 30.0
margin_bottom = 30.0
rect_min_size = Vector2( 30, 30 )
color = Color( 1, 0.760784, 0.4, 1 )

[node name="Label" type="Label" parent="UI/Control/Resources/Bronze"]
margin_top = 34.0
margin_right = 30.0
margin_bottom = 71.0
theme = ExtResource( 2 )
text = "0"
align = 1

[node name="Magic" type="VBoxContainer" parent="UI/Control/Resources"]
margin_left = 160.0
margin_right = 190.0
margin_bottom = 71.0
alignment = 1

[node name="ColorRect" type="ColorRect" parent="UI/Control/Resources/Magic"]
margin_right = 30.0
margin_bottom = 30.0
rect_min_size = Vector2( 30, 30 )
color = Color( 0.741176, 0.6, 1, 1 )

[node name="Label" type="Label" parent="UI/Control/Resources/Magic"]
margin_top = 34.0
margin_right = 30.0
margin_bottom = 71.0
theme = ExtResource( 2 )
text = "0"
align = 1

[node name="Tools" type="HBoxContainer" parent="UI/Control"]
margin_right = 40.0
margin_bottom = 40.0

[node name="ForgeUI" type="PanelContainer" parent="UI/Control"]
visible = false
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -140.0
margin_top = -160.5
margin_right = 140.0
margin_bottom = 160.5
script = ExtResource( 8 )

[node name="Panel" type="Panel" parent="UI/Control/ForgeUI"]
visible = false
margin_left = 7.0
margin_top = 7.0
margin_right = 223.0
margin_bottom = 75.0

[node name="VBoxContainer" type="VBoxContainer" parent="UI/Control/ForgeUI"]
margin_left = 7.0
margin_top = 7.0
margin_right = 273.0
margin_bottom = 314.0
custom_constants/separation = 30
alignment = 1

[node name="CenterContainer" type="CenterContainer" parent="UI/Control/ForgeUI/VBoxContainer"]
margin_top = 6.0
margin_right = 266.0
margin_bottom = 50.0

[node name="TextureProgress" type="TextureProgress" parent="UI/Control/ForgeUI/VBoxContainer/CenterContainer"]
margin_left = 25.0
margin_right = 241.0
margin_bottom = 44.0
size_flags_horizontal = 3
texture_under = ExtResource( 7 )
texture_over = ExtResource( 5 )
texture_progress = ExtResource( 6 )

[node name="ColorRect" type="ColorRect" parent="UI/Control/ForgeUI/VBoxContainer/CenterContainer/TextureProgress"]
margin_left = 145.0
margin_top = 3.0
margin_right = 149.0
margin_bottom = 43.0
color = Color( 0.61625, 0.85, 0.3825, 1 )

[node name="Label" type="Label" parent="UI/Control/ForgeUI/VBoxContainer"]
margin_top = 80.0
margin_right = 266.0
margin_bottom = 105.0
theme = ExtResource( 9 )
align = 1

[node name="VBoxContainer" type="VBoxContainer" parent="UI/Control/ForgeUI/VBoxContainer"]
margin_top = 135.0
margin_right = 266.0
margin_bottom = 240.0
custom_constants/separation = 10
alignment = 1

[node name="ForgeChoice" type="HBoxContainer" parent="UI/Control/ForgeUI/VBoxContainer/VBoxContainer"]
margin_right = 266.0
margin_bottom = 31.0
alignment = 1

[node name="Hammer" type="Button" parent="UI/Control/ForgeUI/VBoxContainer/VBoxContainer/ForgeChoice"]
margin_right = 92.0
margin_bottom = 31.0
focus_neighbour_right = NodePath("../Pickaxe")
focus_neighbour_bottom = NodePath("../../Resources/Iron/IronOre")
theme = ExtResource( 9 )
text = "Hammer"

[node name="Pickaxe" type="Button" parent="UI/Control/ForgeUI/VBoxContainer/VBoxContainer/ForgeChoice"]
margin_left = 96.0
margin_right = 186.0
margin_bottom = 31.0
focus_neighbour_left = NodePath("../Hammer")
focus_neighbour_right = NodePath("../SledgeHammer")
focus_neighbour_bottom = NodePath("../../Resources/Iron/IronOre")
theme = ExtResource( 9 )
text = "Pickaxe"

[node name="SledgeHammer" type="Button" parent="UI/Control/ForgeUI/VBoxContainer/VBoxContainer/ForgeChoice"]
margin_left = 190.0
margin_right = 266.0
margin_bottom = 31.0
focus_neighbour_left = NodePath("../Pickaxe")
focus_neighbour_bottom = NodePath("../../Resources/Iron/IronOre")
theme = ExtResource( 9 )
text = "Sledge"

[node name="Resources" type="HBoxContainer" parent="UI/Control/ForgeUI/VBoxContainer/VBoxContainer"]
margin_top = 41.0
margin_right = 266.0
margin_bottom = 71.0
custom_constants/separation = 10
alignment = 1

[node name="Iron" type="VBoxContainer" parent="UI/Control/ForgeUI/VBoxContainer/VBoxContainer/Resources"]
margin_left = 58.0
margin_right = 88.0
margin_bottom = 30.0
alignment = 1

[node name="IronOre" type="Button" parent="UI/Control/ForgeUI/VBoxContainer/VBoxContainer/Resources/Iron"]
margin_right = 30.0
margin_bottom = 30.0
rect_min_size = Vector2( 30, 30 )
focus_neighbour_top = NodePath("../../../ForgeChoice/Hammer")
focus_neighbour_right = NodePath("../../Copper/CopperOre")
mouse_default_cursor_shape = 2

[node name="ColorRect" type="ColorRect" parent="UI/Control/ForgeUI/VBoxContainer/VBoxContainer/Resources/Iron/IronOre"]
margin_right = 30.0
margin_bottom = 30.0
mouse_filter = 1
color = Color( 0.45098, 0.45098, 0.45098, 1 )

[node name="Label" type="Label" parent="UI/Control/ForgeUI/VBoxContainer/VBoxContainer/Resources/Iron"]
visible = false
margin_top = 34.0
margin_right = 30.0
margin_bottom = 71.0
theme = ExtResource( 2 )
text = "0"
align = 1

[node name="Copper" type="VBoxContainer" parent="UI/Control/ForgeUI/VBoxContainer/VBoxContainer/Resources"]
margin_left = 98.0
margin_right = 128.0
margin_bottom = 30.0
alignment = 1

[node name="CopperOre" type="Button" parent="UI/Control/ForgeUI/VBoxContainer/VBoxContainer/Resources/Copper"]
margin_right = 30.0
margin_bottom = 30.0
rect_min_size = Vector2( 30, 30 )
focus_neighbour_left = NodePath("../../Iron/IronOre")
focus_neighbour_top = NodePath("../../../ForgeChoice/Hammer")
focus_neighbour_right = NodePath("../../Tin/TinOre")
mouse_default_cursor_shape = 2

[node name="ColorRect" type="ColorRect" parent="UI/Control/ForgeUI/VBoxContainer/VBoxContainer/Resources/Copper/CopperOre"]
margin_right = 30.0
margin_bottom = 30.0
mouse_filter = 1
color = Color( 1, 0.6, 0.368627, 1 )

[node name="Label" type="Label" parent="UI/Control/ForgeUI/VBoxContainer/VBoxContainer/Resources/Copper"]
visible = false
margin_top = 34.0
margin_right = 30.0
margin_bottom = 71.0
theme = ExtResource( 2 )
text = "0"
align = 1

[node name="Tin" type="VBoxContainer" parent="UI/Control/ForgeUI/VBoxContainer/VBoxContainer/Resources"]
margin_left = 138.0
margin_right = 168.0
margin_bottom = 30.0
alignment = 1

[node name="TinOre" type="Button" parent="UI/Control/ForgeUI/VBoxContainer/VBoxContainer/Resources/Tin"]
margin_right = 30.0
margin_bottom = 30.0
rect_min_size = Vector2( 30, 30 )
focus_neighbour_left = NodePath("../../Copper/CopperOre")
focus_neighbour_top = NodePath("../../../ForgeChoice/Hammer")
focus_neighbour_right = NodePath("../../Bronze/BronzeOre")
mouse_default_cursor_shape = 2

[node name="ColorRect" type="ColorRect" parent="UI/Control/ForgeUI/VBoxContainer/VBoxContainer/Resources/Tin/TinOre"]
margin_right = 30.0
margin_bottom = 30.0
mouse_filter = 1
color = Color( 0.701961, 0.701961, 0.701961, 1 )

[node name="Label" type="Label" parent="UI/Control/ForgeUI/VBoxContainer/VBoxContainer/Resources/Tin"]
visible = false
margin_top = 34.0
margin_right = 30.0
margin_bottom = 71.0
theme = ExtResource( 2 )
text = "0"
align = 1

[node name="Bronze" type="VBoxContainer" parent="UI/Control/ForgeUI/VBoxContainer/VBoxContainer/Resources"]
margin_left = 178.0
margin_right = 208.0
margin_bottom = 30.0
alignment = 1

[node name="BronzeOre" type="Button" parent="UI/Control/ForgeUI/VBoxContainer/VBoxContainer/Resources/Bronze"]
margin_right = 30.0
margin_bottom = 30.0
rect_min_size = Vector2( 30, 30 )
focus_neighbour_left = NodePath("../../Tin/TinOre")
focus_neighbour_top = NodePath("../../../ForgeChoice/Hammer")
mouse_default_cursor_shape = 2

[node name="ColorRect" type="ColorRect" parent="UI/Control/ForgeUI/VBoxContainer/VBoxContainer/Resources/Bronze/BronzeOre"]
margin_right = 30.0
margin_bottom = 30.0
mouse_filter = 1
color = Color( 1, 0.760784, 0.4, 1 )

[node name="Label" type="Label" parent="UI/Control/ForgeUI/VBoxContainer/VBoxContainer/Resources/Bronze"]
visible = false
margin_top = 34.0
margin_right = 30.0
margin_bottom = 71.0
theme = ExtResource( 2 )
text = "0"
align = 1

[node name="Magic" type="VBoxContainer" parent="UI/Control/ForgeUI/VBoxContainer/VBoxContainer/Resources"]
visible = false
margin_left = 173.0
margin_right = 203.0
margin_bottom = 71.0
alignment = 1

[node name="ColorRect" type="ColorRect" parent="UI/Control/ForgeUI/VBoxContainer/VBoxContainer/Resources/Magic"]
margin_right = 30.0
margin_bottom = 30.0
rect_min_size = Vector2( 30, 30 )
color = Color( 0.741176, 0.6, 1, 1 )

[node name="Label" type="Label" parent="UI/Control/ForgeUI/VBoxContainer/VBoxContainer/Resources/Magic"]
margin_top = 34.0
margin_right = 30.0
margin_bottom = 71.0
theme = ExtResource( 2 )
text = "0"
align = 1

[node name="Recipe" type="HBoxContainer" parent="UI/Control/ForgeUI/VBoxContainer/VBoxContainer"]
margin_top = 81.0
margin_right = 266.0
margin_bottom = 105.0
alignment = 1

[node name="CheckBox" type="CheckBox" parent="UI/Control/ForgeUI/VBoxContainer/VBoxContainer/Recipe"]
margin_left = 107.0
margin_right = 131.0
margin_bottom = 24.0
disabled = true

[node name="CheckBox2" type="CheckBox" parent="UI/Control/ForgeUI/VBoxContainer/VBoxContainer/Recipe"]
margin_left = 135.0
margin_right = 159.0
margin_bottom = 24.0
disabled = true

[node name="Recipe2" type="HBoxContainer" parent="UI/Control/ForgeUI/VBoxContainer/VBoxContainer"]
visible = false
margin_top = 93.0
margin_right = 378.0
margin_bottom = 117.0
alignment = 1

[node name="CheckBox" type="CheckBox" parent="UI/Control/ForgeUI/VBoxContainer/VBoxContainer/Recipe2"]
margin_left = 149.0
margin_right = 173.0
margin_bottom = 24.0
disabled = true

[node name="CheckBox2" type="CheckBox" parent="UI/Control/ForgeUI/VBoxContainer/VBoxContainer/Recipe2"]
margin_left = 177.0
margin_right = 201.0
margin_bottom = 24.0
disabled = true

[node name="CheckBox3" type="CheckBox" parent="UI/Control/ForgeUI/VBoxContainer/VBoxContainer/Recipe2"]
margin_left = 205.0
margin_right = 229.0
margin_bottom = 24.0
disabled = true

[node name="CheckBox4" type="CheckBox" parent="UI/Control/ForgeUI/VBoxContainer/VBoxContainer/Recipe2"]
margin_left = 205.0
margin_right = 229.0
margin_bottom = 24.0
disabled = true

[node name="Recipe3" type="HBoxContainer" parent="UI/Control/ForgeUI/VBoxContainer/VBoxContainer"]
visible = false
margin_top = 93.0
margin_right = 378.0
margin_bottom = 117.0
alignment = 1

[node name="CheckBox" type="CheckBox" parent="UI/Control/ForgeUI/VBoxContainer/VBoxContainer/Recipe3"]
margin_left = 121.0
margin_right = 145.0
margin_bottom = 24.0
disabled = true

[node name="CheckBox2" type="CheckBox" parent="UI/Control/ForgeUI/VBoxContainer/VBoxContainer/Recipe3"]
margin_left = 149.0
margin_right = 173.0
margin_bottom = 24.0
disabled = true

[node name="CheckBox3" type="CheckBox" parent="UI/Control/ForgeUI/VBoxContainer/VBoxContainer/Recipe3"]
margin_left = 177.0
margin_right = 201.0
margin_bottom = 24.0
disabled = true

[node name="CheckBox4" type="CheckBox" parent="UI/Control/ForgeUI/VBoxContainer/VBoxContainer/Recipe3"]
margin_left = 205.0
margin_right = 229.0
margin_bottom = 24.0
disabled = true

[node name="CheckBox5" type="CheckBox" parent="UI/Control/ForgeUI/VBoxContainer/VBoxContainer/Recipe3"]
margin_left = 233.0
margin_right = 257.0
margin_bottom = 24.0
disabled = true

[node name="CheckBox6" type="CheckBox" parent="UI/Control/ForgeUI/VBoxContainer/VBoxContainer/Recipe3"]
margin_left = 233.0
margin_right = 257.0
margin_bottom = 24.0
disabled = true

[node name="Close" type="Button" parent="UI/Control/ForgeUI/VBoxContainer"]
margin_top = 270.0
margin_right = 266.0
margin_bottom = 301.0
focus_neighbour_top = NodePath("../VBoxContainer/Resources/Iron/IronOre")
focus_neighbour_right = NodePath("../VBoxContainer/Resources/Copper/CopperOre")
theme = ExtResource( 9 )
text = "Close"

[node name="CorrectHit" type="AudioStreamPlayer2D" parent="UI/Control/ForgeUI"]
position = Vector2( -372, -139.5 )
stream = ExtResource( 12 )

[node name="FalseHit" type="AudioStreamPlayer2D" parent="UI/Control/ForgeUI"]
position = Vector2( -372, -139.5 )
stream = ExtResource( 11 )

[node name="Forged" type="AudioStreamPlayer2D" parent="UI/Control/ForgeUI"]
position = Vector2( -372, -139.5 )
stream = ExtResource( 10 )
volume_db = 4.0

[node name="Pickup" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource( 4 )
volume_db = 15.0

[connection signal="visibility_changed" from="UI/Control/ForgeUI" to="UI/Control/ForgeUI" method="_on_ForgeUI_visibility_changed"]
[connection signal="pressed" from="UI/Control/ForgeUI/VBoxContainer/VBoxContainer/ForgeChoice/Hammer" to="UI/Control/ForgeUI" method="_on_Hammer_pressed"]
[connection signal="pressed" from="UI/Control/ForgeUI/VBoxContainer/VBoxContainer/ForgeChoice/Pickaxe" to="UI/Control/ForgeUI" method="_on_Pickaxe_pressed"]
[connection signal="pressed" from="UI/Control/ForgeUI/VBoxContainer/VBoxContainer/ForgeChoice/SledgeHammer" to="UI/Control/ForgeUI" method="_on_SledgeHammer_pressed"]
[connection signal="pressed" from="UI/Control/ForgeUI/VBoxContainer/VBoxContainer/Resources/Iron/IronOre" to="UI/Control/ForgeUI" method="_on_IronOre_pressed"]
[connection signal="pressed" from="UI/Control/ForgeUI/VBoxContainer/VBoxContainer/Resources/Copper/CopperOre" to="UI/Control/ForgeUI" method="_on_CopperOre_pressed"]
[connection signal="pressed" from="UI/Control/ForgeUI/VBoxContainer/VBoxContainer/Resources/Tin/TinOre" to="UI/Control/ForgeUI" method="_on_TinOre_pressed"]
[connection signal="pressed" from="UI/Control/ForgeUI/VBoxContainer/VBoxContainer/Resources/Bronze/BronzeOre" to="UI/Control/ForgeUI" method="_on_BronzeOre_pressed"]
[connection signal="pressed" from="UI/Control/ForgeUI/VBoxContainer/Close" to="UI/Control/ForgeUI" method="_on_Close_pressed"]
